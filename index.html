<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ELIMAN WORKER</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 14px 18px;
            padding-top: calc(env(safe-area-inset-top) + 14px);
            background: #0b0b0c;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 50;
        }

        .input-field {
            background: #1a1a1c;
            border: 1px solid #2c2c2e;
            color: white;
            padding: 14px;
            font-size: 17px;
            border-radius: 12px;
        }

        .category-card {
            background: #1a1a1c;
            border: 1px solid #2c2c2e;
            padding: 18px;
            border-radius: 14px;
            text-align: center;
            transition: 0.2s;
        }

        .category-card.selected {
            border-color: #06c167;
            box-shadow: 0 0 15px #06c16755;
        }

        .photo-box {
            width: 160px;
            height: 160px;
            background: #1a1a1c;
            border: 2px dashed #2c2c2e;
            border-radius: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 16px;
            margin: auto;
        }

        .submit-btn {
            background: #06c167;
            border-radius: 14px;
            color: white;
            font-size: 18px;
            font-weight: 700;
            padding: 16px;
        }
    </style>
</head>

<body class="bg-black text-white"
      style="padding-top: calc(env(safe-area-inset-top) + 90px);">

<!-- HEADER -->
<div class="header">
    <button onclick="window.Telegram.WebApp.close()" class="text-gray-300 text-lg">
        –ó–∞–∫—Ä—ã—Ç—å
    </button>

    <h2 id="headerTitle" class="text-xl font-bold">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>

    <div class="opacity-0">‚Ä¢‚Ä¢‚Ä¢</div>
</div>


<!-- REGISTRATION STEP 1 -->
<div id="step1" class="px-5 mt-4 space-y-4">

    <h3 class="text-2xl font-bold mb-2">–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</h3>

    <input id="fullName" type="text" placeholder="–ü–æ–ª–Ω–æ–µ –∏–º—è"
           class="input-field w-full">

    <input id="phone" type="text" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω"
           class="input-field w-full">

    <input id="city" type="text" placeholder="–ì–æ—Ä–æ–¥"
           class="input-field w-full">

    <button onclick="goStep2()" class="submit-btn w-full mt-4">
        –î–∞–ª–µ–µ
    </button>
</div>



<!-- REGISTRATION STEP 2 -->
<div id="step2" class="hidden px-5 mt-4 space-y-6">

    <h3 class="text-2xl font-bold mb-2">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã</h3>
    <p class="text-gray-400 text-sm">–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π</p>

    <!-- CLEANING -->
    <div>
        <h4 class="text-lg font-semibold mb-2">üßπ Cleaning</h4>

        <div class="space-y-3">
            <div class="category-card" data-cat="regular_cleaning">Regular Cleaning</div>
            <div class="category-card" data-cat="deep_cleaning">Deep Cleaning</div>
            <div class="category-card" data-cat="move_in_out">Move-in / Move-out</div>
            <div class="category-card" data-cat="airbnb_cleaning">Airbnb Cleaning</div>
            <div class="category-card" data-cat="office_cleaning">Office Cleaning</div>
        </div>
    </div>

    <!-- HANDYMAN -->
    <div>
        <h4 class="text-lg font-semibold mb-2">üîß Handyman</h4>

        <div class="space-y-3">
            <div class="category-card" data-cat="tv_mounting">TV Mounting</div>
            <div class="category-card" data-cat="furniture_assembly">Furniture Assembly</div>
            <div class="category-card" data-cat="painting">Painting</div>
            <div class="category-card" data-cat="drywall_patch">Drywall Patch</div>
            <div class="category-card" data-cat="door_repair">Door/Window Repair</div>
            <div class="category-card" data-cat="shelves_install">Shelves Install</div>
        </div>
    </div>

    <!-- APPLIANCE REPAIR -->
    <div>
        <h4 class="text-lg font-semibold mb-2">üßä Appliance Repair</h4>

        <div class="space-y-3">
            <div class="category-card" data-cat="washer">Washer Repair</div>
            <div class="category-card" data-cat="dryer">Dryer Repair</div>
            <div class="category-card" data-cat="fridge">Fridge Repair</div>
            <div class="category-card" data-cat="dishwasher">Dishwasher Repair</div>
            <div class="category-card" data-cat="oven">Oven / Stove Repair</div>
        </div>
    </div>

    <!-- MOVING -->
    <div>
        <h4 class="text-lg font-semibold mb-2">üöö Moving</h4>

        <div class="space-y-3">
            <div class="category-card" data-cat="help_moving">Help Moving</div>
            <div class="category-card" data-cat="packing">Packing / Unpacking</div>
            <div class="category-card" data-cat="furniture_moving">Furniture Moving</div>
            <div class="category-card" data-cat="junk_removal">Junk Removal</div>
        </div>
    </div>

    <!-- LOCKSMITH -->
    <div>
        <h4 class="text-lg font-semibold mb-2">üîë Locksmith</h4>

        <div class="space-y-3">
            <div class="category-card" data-cat="home_lockout">Home Lockout</div>
            <div class="category-card" data-cat="car_lockout">Car Lockout</div>
            <div class="category-card" data-cat="lock_replace">Lock Replace</div>
            <div class="category-card" data-cat="rekey">Rekeying</div>
        </div>
    </div>

    <!-- ROADSIDE -->
    <div>
        <h4 class="text-lg font-semibold mb-2">üöó Tire & Roadside</h4>

        <div class="space-y-3">
            <div class="category-card" data-cat="flat_tire">Flat Tire Change</div>
            <div class="category-card" data-cat="jump_start">Jump Start</div>
            <div class="category-card" data-cat="battery_replace">Battery Replace</div>
            <div class="category-card" data-cat="fuel_delivery">Fuel Delivery</div>
        </div>
    </div>

    <!-- SMART HOME -->
    <div>
        <h4 class="text-lg font-semibold mb-2">üè† Smart Home</h4>

        <div class="space-y-3">
            <div class="category-card" data-cat="camera_install">Security Camera Install</div>
            <div class="category-card" data-cat="smart_lock">Smart Lock Install</div>
            <div class="category-card" data-cat="doorbell">Doorbell Ring/Nest</div>
            <div class="category-card" data-cat="thermostat">Smart Thermostat Install</div>
        </div>
    </div>

    <button onclick="goStep3()" class="submit-btn w-full mt-6">
        –î–∞–ª–µ–µ
    </button>
</div>


<!-- REGISTRATION STEP 3 -->
<div id="step3" class="hidden px-5 mt-4 space-y-4">

    <h3 class="text-2xl font-bold mb-4">–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</h3>

    <div id="photoPreview" class="photo-box">
        –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ
    </div>

    <input type="file" id="photoInput" accept="image/*" class="hidden">

    <button onclick="finishRegistration()" class="submit-btn w-full mt-6">
        –ì–æ—Ç–æ–≤–æ
    </button>
</div>


<script type="module" src="./js/app.js"></script>
<script>
/* ===== –ù–û–í–´–ô –ú–£–õ–¨–¢–ò-–í–´–ë–û–† –ö–ê–¢–ï–ì–û–†–ò–ô ===== */
let selectedCategories = [];

document.querySelectorAll(".category-card").forEach(card => {
    card.onclick = () => {
        const cat = card.dataset.cat;

        if (selectedCategories.includes(cat)) {
            selectedCategories = selectedCategories.filter(c => c !== cat);
            card.classList.remove("selected");
        } else {
            selectedCategories.push(cat);
            card.classList.add("selected");
        }

        console.log("–í—ã–±—Ä–∞–Ω–æ:", selectedCategories);
    };
});
/* ======================================= */


/* ===== –ü–†–ï–í–¨–Æ –§–û–¢–û ===== */
document.getElementById("photoPreview").onclick = () => {
    document.getElementById("photoInput").click();
};

document.getElementById("photoInput").onchange = (e) => {
    const file = e.target.files[0];
    if (file) {
        const url = URL.createObjectURL(file);
        document.getElementById("photoPreview").style.backgroundImage = url(${url});
        document.getElementById("photoPreview").style.backgroundSize = "cover";
        document.getElementById("photoPreview").style.border = "none";
        document.getElementById("photoPreview").textContent = "";
    }
};
/* ======================================= */


/* ===== –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –®–ê–ì–ê–ú ===== */
function goStep2() {
    step1.classList.add("hidden");
    step2.classList.remove("hidden");
    headerTitle.textContent = "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏";
}

function goStep3() {
    step2.classList.add("hidden");
    step3.classList.remove("hidden");
    headerTitle.textContent = "–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è";
}

function finishRegistration() {
    alert("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!");
}
/* ======================================= */
</script>

</body>
</html>


