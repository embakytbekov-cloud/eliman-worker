<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ELIMAN WORKER</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- TG -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="./css/style.css">
</head>

<body class="p-6">

<!-- üîµ STEP 1 ‚Äî ABOUT YOU -->
<section id="step1">
    <h2 class="section-title">–û –≤–∞—Å</h2>

    <input id="fullName" type="text" class="input" placeholder="–ü–æ–ª–Ω–æ–µ –∏–º—è">
    <input id="phone" type="text" class="input" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">

    <input id="street" type="text" class="input" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º">
    <input id="apt" type="text" class="input" placeholder="–ö–≤–∞—Ä—Ç–∏—Ä–∞ / –æ—Ñ–∏—Å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <div class="flex gap-3">
        <input id="city" type="text" class="input flex-1" placeholder="–ì–æ—Ä–æ–¥">
        <input id="state" type="text" class="input flex-1" placeholder="–®—Ç–∞—Ç">
    </div>
    <input id="zip" type="text" class="input" placeholder="ZIP –∫–æ–¥">

    <select id="language" class="input">
        <option>English</option>
        <option>–†—É—Å—Å–∫–∏–π</option>
        <option>Spanish</option>
    </select>

    <button id="goStep2" class="primary-btn">–î–∞–ª–µ–µ</button>
</section>

<!-- üü¢ STEP 2 ‚Äî CATEGORY -->
<section id="step2" class="hidden">
    <h2 class="section-title">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é<br> —á—Ç–æ–±—ã –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>

    <div class="category-card" data-cat="appliance">
        <div class="category-title">Appliance Repair</div>
        <div class="category-sub">Washer, dryer, refrigerator‚Ä¶</div>
    </div>

    <div class="category-card" data-cat="cleaning">
        <div class="category-title">Cleaning</div>
        <div class="category-sub">Home, office, car‚Ä¶</div>
    </div>

    <div class="category-card" data-cat="handyman">
        <div class="category-title">Handyman</div>
        <div class="category-sub">Repair, install, painting‚Ä¶</div>
    </div>

    <div class="category-card" data-cat="locksmith">
        <div class="category-title">Locksmith</div>
        <div class="category-sub">Locks, car locks‚Ä¶</div>
    </div>

    <div class="category-card" data-cat="moving">
        <div class="category-title">Moving</div>
        <div class="category-sub">Packing, lifting‚Ä¶</div>
    </div>

    <div class="category-card" data-cat="smart">
        <div class="category-title">Smart Home</div>
        <div class="category-sub">Doorbell, camera‚Ä¶</div>
    </div>

    <div class="category-card" data-cat="tire">
        <div class="category-title">Tire & Roadside</div>
        <div class="category-sub">Tire change, jump start‚Ä¶</div>
    </div>

    <button id="goStep3" class="primary-btn">–î–∞–ª–µ–µ</button>
</section>

<!-- üü£ STEP 3 ‚Äî PHOTO -->
<section id="step3" class="hidden">
    <h2 class="section-title">–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</h2>

    <div id="photoPreview">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ</div>
    <input id="photoInput" type="file" accept="image/*" class="hidden">

    <button id="finishBtn" class="primary-btn">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
</section>

<script type="module" src="./js/app.js"></script>

<script>
// ===== FRONTEND LOGIC =====
let selectedCategory = null;

// STEP SWITCH
const step1 = document.getElementById("step1");
const step2 = document.getElementById("step2");
const step3 = document.getElementById("step3");

document.getElementById("goStep2").onclick = () => {
    step1.classList.add("hidden");
    step2.classList.remove("hidden");
};

document.querySelectorAll(".category-card").forEach(card => {
    card.onclick = () => {
        document.querySelectorAll(".category-card")
            .forEach(c => c.classList.remove("selected"));

        card.classList.add("selected");
        selectedCategory = card.dataset.cat;
    };
});

document.getElementById("goStep3").onclick = () => {
    if (!selectedCategory) {
        alert("–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é");
        return;
    }
    step2.classList.add("hidden");
    step3.classList.remove("hidden");
};

// PHOTO UPLOAD
document.getElementById("photoPreview").onclick = () => {
    document.getElementById("photoInput").click();
};

document.getElementById("photoInput").onchange = (e) => {
    const file = e.target.files[0];
    if (file) {
        const url = URL.createObjectURL(file);
        const preview = document.getElementById("photoPreview");

        preview.style.backgroundImage = `url(${url})`;
        preview.style.backgroundSize = "cover";
        preview.style.backgroundPosition = "center";
        preview.textContent = "";
        preview.style.border = "none";
    }
};

document.getElementById("finishBtn").onclick = () => {
    alert("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!");
};
</script>

</body>
</html>
